"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["43826"],{63782:function(e,s,r){r.d(s,{Z:function(){return a}});var t=r(85893);r(67294);let a=()=>(0,t.jsxs)("section",{className:"loading-banner",children:[(0,t.jsx)("div",{className:"loading-banner-spinner"}),(0,t.jsx)("h2",{className:"loading-banner-heading",children:"Following the damn train..."})]})},33480:function(e,s,r){r.d(s,{Z:function(){return i}});var t=r(85893),a=r(67294);let n=e=>{let{text:s}=e,[r,n]=(0,a.useState)(!1);return(0,t.jsxs)("div",{className:"copy-badge-container",children:[(0,t.jsx)("span",{className:"copy-badge-text",children:s}),(0,t.jsx)("button",{className:`copy-badge-button ${r?"copied":""}`,onClick:()=>{navigator.clipboard.writeText(s),n(!0),setTimeout(()=>n(!1),2e3)},children:r?"COPIED":"COPY"})]})},i=e=>{let{server:s}=e;return(0,t.jsxs)("div",{className:"server-row-card",children:[(0,t.jsxs)("div",{className:"server-header",children:[(0,t.jsx)("a",{href:"/servers/"+s.ip,className:"server-link",children:(0,t.jsx)("h2",{className:"server-heading",children:s.hn})}),(0,t.jsxs)("div",{className:"server-badges",children:[s.pr&&(0,t.jsx)("img",{src:"/images/assets/partners.png",alt:"partner server",title:"Has partnership!",className:"server-badge-image"}),s.omp&&(0,t.jsx)("img",{src:"/images/assets/logo-light-trans.svg",alt:"open.mp server",title:"open.mp server",className:"server-badge-image"})]})]}),(0,t.jsxs)("div",{className:"server-info",children:[(0,t.jsxs)("div",{className:"server-details",children:[(0,t.jsx)("span",{className:"server-game-mode",children:s.gm}),(0,t.jsxs)("div",{className:"server-players",children:[(0,t.jsxs)("div",{className:"server-player-count",children:[(0,t.jsx)("span",{children:s.pc}),"/",(0,t.jsx)("span",{children:s.pm})]}),"players"]})]}),(0,t.jsx)(n,{text:s.ip})]})]})}},48850:function(e,s,r){r.d(s,{C:function(){return l},I:function(){return i}});var t=r(85893),a=r(67294);let n=new class{listeners=[];addListener(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(s=>s!==e)}}emit(e){this.listeners.forEach(s=>s(e))}},i=()=>{let[e,s]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let e=n.addListener(e=>{s(s=>[e,...s]),setTimeout(()=>{s(s=>s.filter(s=>s.id!==e.id))},1e5)});return()=>e()},[]),(0,t.jsx)("div",{className:"toast-container",children:e.map(e=>(0,t.jsxs)("div",{className:`toast ${"success"===e.type?"toast-success":"toast-error"}`,children:[(0,t.jsxs)("div",{className:"toast-header",children:[(0,t.jsx)("h4",{className:"toast-title",children:e.title}),(0,t.jsx)("button",{onClick:()=>s(s=>s.filter(s=>s.id!==e.id)),className:"toast-close","aria-label":"Close toast",children:"\xd7"})]}),(0,t.jsx)("p",{className:"toast-message",children:e.message})]},e.id))})},l=e=>{let{message:s,title:r,type:t="success"}=e,a={id:Math.random().toString(36).substr(2,9),message:s,title:r,type:t};n.emit(a)}},19972:function(e,s,r){r.d(s,{A:function(){return t}});let t="https://api.open.mp"},4709:function(e,s,r){r.r(s),r.d(s,{default:function(){return j}});var t=r(85893),a=r(13687),n=r(67294),i=r(18898),l=r(63782),c=r(33480),o=r(48850),d=r(19972);let h=`${d.A}/servers/`,u=async()=>{try{let e=await fetch(h);return await e.json()}catch(e){return[]}},p=e=>({players:e.map(e=>e.pc).reduce((e,s)=>e+s,0),servers:e.length}),m=(e,s)=>{let r=[...e];if(s.search){let e=s.search.toLowerCase();r=r.filter(s=>s.ip.toLowerCase().includes(e)||s.hn.toLowerCase().includes(e)||s.gm.toLowerCase().includes(e))}return"pc"===s.sort&&r.sort((e,s)=>s.pc-e.pc),r},v=e=>{let{stats:{players:s,servers:r}}=e;return(0,t.jsx)("div",{className:"servers-center",children:(0,t.jsxs)("p",{className:"servers-stats",children:[(0,t.jsx)("strong",{children:s})," players on ",(0,t.jsx)("strong",{children:r})," servers with an average of ",(0,t.jsx)("strong",{children:(s/r).toFixed(1)})," ","players per server."]})})},x=e=>{let{data:s}=e,[r,a]=(0,n.useState)(""),[l,o]=(0,n.useState)("relevance"),d=(0,n.useMemo)(()=>m(s,{search:r,sort:l}),[s,r,l]),h=Math.floor(7.462686567164179);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("form",{className:"servers-list-form",children:(0,t.jsxs)("div",{className:"servers-controls",children:[(0,t.jsxs)("select",{value:l,onChange:e=>o(e.target.value),className:"servers-select",children:[(0,t.jsx)("option",{value:"relevance",children:"Relevance"}),(0,t.jsx)("option",{value:"pc",children:"Players"})]}),(0,t.jsx)("input",{type:"text",placeholder:"Search by IP or Name",name:"search",id:"search",value:r,onChange:e=>a(e.target.value),className:"servers-search"})]})}),(0,t.jsx)(v,{stats:p(s)}),(0,t.jsx)(i.t7,{height:(d.length+1)*134,width:"100%",itemSize:134,itemCount:d.length,overscanCount:h,children:e=>{let{index:s,style:r}=e,a=d[s];return(0,t.jsx)("div",{style:r,children:(0,t.jsx)(c.Z,{server:a},a.ip)})}})]})},j=()=>{let[e,s]=(0,n.useState)(!0),[r,i]=(0,n.useState)([]);return(0,n.useEffect)(()=>{u().then(e=>{s(!1),i(e.filter(e=>e.pr))})},[]),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Z,{title:"Servers",description:"List of San Andreas servers using open.mp or SA-MP",children:(0,t.jsxs)("section",{className:"servers-container",children:[(0,t.jsx)("p",{children:(0,t.jsx)("b",{children:"Note: The partnership program application is temporarily closed as promised. Servers that have already reserved a slot can still join, but we are not accepting new requests at this time. If you have any questions, feel free to ask on our Discord. However, if your question is about new ways to get on the list, we currently have no plans for that."})}),e?(0,t.jsx)(l.Z,{}):(0,t.jsx)(x,{data:r})]})}),(0,t.jsx)(o.I,{})]})}}}]);